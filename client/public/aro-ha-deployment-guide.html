<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aro-Ha Chat Widget - Deployment Guide</title>
  <style>
    :root {
      --primary: #767657;
      --primary-dark: #5e5e46;
      --primary-light: #9a9984;
      --text: #333;
      --background: #f8f8f8;
      --container: #ffffff;
      --border: #e0e0e0;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
      line-height: 1.6;
      color: var(--text);
      background-color: var(--background);
      margin: 0;
      padding: 20px;
    }
    
    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 20px;
    }
    
    h1, h2, h3 {
      color: var(--primary);
    }
    
    h1 {
      text-align: center;
      margin-bottom: 1.5rem;
      font-size: 2.2rem;
    }
    
    .section {
      background-color: var(--container);
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
      padding: 30px;
      margin-bottom: 30px;
      border: 1px solid var(--border);
    }
    
    .code-block {
      background-color: #f5f5f5;
      border-radius: 4px;
      padding: 20px;
      overflow-x: auto;
      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', monospace;
      font-size: 14px;
      line-height: 1.4;
      border: 1px solid #e0e0e0;
      margin: 20px 0;
      white-space: pre-wrap;
    }
    
    .highlight {
      background-color: #fffde7;
      padding: 2px 4px;
      border-radius: 2px;
    }
    
    .button {
      background-color: var(--primary);
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 4px;
      font-size: 16px;
      cursor: pointer;
      transition: background-color 0.2s;
      text-decoration: none;
      display: inline-block;
    }
    
    .button:hover {
      background-color: var(--primary-dark);
    }
    
    .steps {
      counter-reset: step-counter;
      padding-left: 0;
      list-style-type: none;
    }
    
    .steps li {
      position: relative;
      padding-left: 40px;
      margin-bottom: 20px;
    }
    
    .steps li::before {
      content: counter(step-counter);
      counter-increment: step-counter;
      position: absolute;
      left: 0;
      top: 0;
      width: 28px;
      height: 28px;
      background-color: var(--primary);
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
    }
    
    .note {
      background-color: #e8f4fd;
      border-left: 4px solid #2196f3;
      padding: 15px;
      margin: 20px 0;
      border-radius: 4px;
    }
    
    .test-area {
      margin-top: 40px;
      padding-top: 20px;
      border-top: 1px solid var(--border);
    }
    
    .flex-container {
      display: flex;
      gap: 20px;
      margin: 20px 0;
    }
    
    .flex-container > div {
      flex: 1;
    }
    
    .icon-container {
      background-color: var(--primary);
      width: 60px;
      height: 60px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 20px auto;
    }
    
    .demo-title {
      text-align: center;
      font-size: 1.2rem;
      margin-bottom: 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Aro-Ha AI Assistant Widget Deployment Guide</h1>
    
    <div class="section">
      <h2>Overview</h2>
      <p>
        This guide explains how to implement the Aro-Ha AI Assistant chat widget on your Webflow site.
        The widget provides a seamless, non-intrusive chat experience that allows visitors to interact
        with the assistant without disrupting their browsing experience.
      </p>
      
      <div class="icon-container">
        <svg width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          <rect x="3" y="5" width="14" height="12" rx="2" ry="2" />
          <path d="M19 9l2 0" />
          <path d="M20 8l0 2" />
          <path d="M21 14l2 0" />
          <path d="M22 13l0 2" />
        </svg>
      </div>
      <p class="demo-title">The Aro-Ha AI chat button</p>
    </div>
    
    <div class="section">
      <h2>Implementation Instructions</h2>
      <p>Follow these steps to implement the widget on your Webflow site:</p>
      
      <ol class="steps">
        <li>
          <h3>Access Webflow's Custom Code Settings</h3>
          <p>Go to your Webflow dashboard, select your site, and navigate to <span class="highlight">Site Settings > Custom Code</span>.</p>
        </li>
        
        <li>
          <h3>Add the Widget Code to Footer</h3>
          <p>Copy the following code and paste it into the <span class="highlight">Footer Code</span> section:</p>
          
          <div class="code-block" id="embedCode">
&lt;script&gt;
/**
 * Aro-Ha AI Assistant - Webflow Embed Code
 * 
 * This is the final production-ready embed code for Aro-Ha's Webflow site.
 */
(function() {
  // Configuration
  const config = {
    buttonSize: '60px',
    buttonPosition: { bottom: '20px', right: '20px' },
    chatWidth: '380px',
    chatHeight: '580px',
    chatPosition: { bottom: '20px', right: '20px' },
    backgroundColor: '#767657', // Exact color match to Aro-Ha design
    baseUrl: 'https://arohaunifiedchat.replit.app'
  };
  
  // Initialize when DOM is fully loaded
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', init);
  } else {
    init();
  }
  
  function injectStyles() {
    const styleEl = document.createElement('style');
    styleEl.innerHTML = `
      .aro-ha-button-container {
        position: fixed;
        z-index: 999998;
        width: calc(${config.buttonSize} + 8px);
        height: calc(${config.buttonSize} + 8px);
        bottom: ${config.buttonPosition.bottom};
        right: ${config.buttonPosition.right};
        cursor: pointer;
        pointer-events: auto;
        transition: all 0.3s ease;
        background: transparent;
        padding: 4px;
      }
      
      .aro-ha-chat-container {
        position: fixed;
        z-index: 999997;
        bottom: ${config.chatPosition.bottom};
        right: ${config.chatPosition.right};
        width: ${config.chatWidth};
        height: ${config.chatHeight};
        overflow: hidden;
        transition: all 0.3s ease;
        opacity: 0;
        transform: translateY(20px);
        pointer-events: none;
        box-shadow: 0 5px 40px rgba(0, 0, 0, 0.16);
        border-radius: 12px;
      }
      
      .aro-ha-chat-container.active {
        opacity: 1;
        transform: translateY(0);
        pointer-events: auto;
      }
      
      .aro-ha-button-container.hidden {
        opacity: 0;
        transform: scale(0.8);
        pointer-events: none;
      }
      
      @media (max-width: 768px) {
        .aro-ha-chat-container.active {
          width: 100vw !important;
          height: 100vh !important;
          bottom: 0 !important;
          right: 0 !important;
          border-radius: 0 !important;
        }
      }
    `;
    document.head.appendChild(styleEl);
  }
  
  function createChatButton() {
    const buttonContainer = document.createElement('div');
    buttonContainer.className = 'aro-ha-button-container';
    
    const buttonIframe = document.createElement('iframe');
    buttonIframe.style.width = '100%';
    buttonIframe.style.height = '100%';
    buttonIframe.style.border = 'none';
    buttonIframe.style.borderRadius = '50%';
    buttonIframe.style.overflow = 'hidden';
    buttonIframe.style.background = 'transparent';
    buttonIframe.src = `${config.baseUrl}/widget-button`;
    buttonIframe.title = 'Aro Ha Chat Button';
    buttonIframe.scrolling = 'no';
    buttonIframe.allow = 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope';
    
    buttonContainer.appendChild(buttonIframe);
    document.body.appendChild(buttonContainer);
    
    return buttonContainer;
  }
  
  function createChatContainer() {
    const chatContainer = document.createElement('div');
    chatContainer.className = 'aro-ha-chat-container';
    
    document.body.appendChild(chatContainer);
    return chatContainer;
  }
  
  function init() {
    injectStyles();
    
    const buttonContainer = createChatButton();
    const chatContainer = createChatContainer();
    
    setupEventListeners(buttonContainer, chatContainer);
  }
  
  function setupEventListeners(buttonContainer, chatContainer) {
    // Listen for messages from the button or chat iframe
    window.addEventListener('message', (event) => {
      handleIframeMessages(event, buttonContainer, chatContainer);
    });
    
    // Set up click handler for the button
    buttonContainer.addEventListener('click', () => {
      openWidget(buttonContainer, chatContainer);
    });
  }
  
  function handleIframeMessages(event, buttonContainer, chatContainer) {
    // Handle messages from either iframe
    if (event.data) {
      if (event.data.type === 'widget-close') {
        closeWidget(buttonContainer, chatContainer);
      }
      // Handle button clicks from the button iframe
      else if (event.data.type === 'button-click') {
        openWidget(buttonContainer, chatContainer);
      }
    }
  }
  
  function toggleWidget(buttonContainer, chatContainer) {
    if (chatContainer.classList.contains('active')) {
      closeWidget(buttonContainer, chatContainer);
    } else {
      openWidget(buttonContainer, chatContainer);
    }
  }
  
  function openWidget(buttonContainer, chatContainer) {
    // Hide the button
    buttonContainer.classList.add('hidden');
    
    // If the chat iframe hasn't been created yet, create it
    if (!chatContainer.querySelector('iframe')) {
      const chatIframe = document.createElement('iframe');
      chatIframe.style.width = '100%';
      chatIframe.style.height = '100%';
      chatIframe.style.border = 'none';
      chatIframe.src = `${config.baseUrl}/widget-full`;
      chatIframe.title = 'Aro Ha Chat';
      chatIframe.allow = 'microphone';
      chatContainer.appendChild(chatIframe);
    }
    
    // Show the chat
    chatContainer.classList.add('active');
  }
  
  function closeWidget(buttonContainer, chatContainer) {
    // Hide the chat
    chatContainer.classList.remove('active');
    
    // Show the button
    buttonContainer.classList.remove('hidden');
  }
})();
&lt;/script&gt;</div>
          
          <button class="button" onclick="copyCode()">Copy Code</button>
        </li>
        
        <li>
          <h3>Save and Publish</h3>
          <p>Click <span class="highlight">Save Changes</span> and then publish your site to make the widget live.</p>
        </li>
      </ol>
      
      <div class="note">
        <strong>Note:</strong> The widget is designed to work consistently across all pages of your site.
        It will appear as a chat button in the bottom right of your website and won't interfere with other
        page elements or interactions.
      </div>
    </div>
    
    <div class="section">
      <h2>Customization Options</h2>
      <p>You can customize the widget by modifying the configuration values in the code:</p>
      
      <div class="flex-container">
        <div>
          <h3>Position and Size</h3>
          <ul>
            <li><code>buttonSize</code>: Size of the chat button</li>
            <li><code>buttonPosition</code>: Position of the button on screen</li>
            <li><code>chatWidth</code>: Width of the chat widget</li>
            <li><code>chatHeight</code>: Height of the chat widget</li>
          </ul>
        </div>
        <div>
          <h3>Appearance</h3>
          <ul>
            <li><code>backgroundColor</code>: Color of the chat button</li>
            <li>Mobile Responsiveness: Automatically adapts for mobile devices</li>
            <li>Custom Styling: Can be further customized via CSS</li>
          </ul>
        </div>
      </div>
    </div>
    
    <div class="section">
      <h2>Need Help?</h2>
      <p>
        For assistance with the implementation or customization of the Aro-Ha AI chat widget,
        please contact the development team.
      </p>
    </div>
    
    <div class="test-area">
      <!-- Chat button will appear here when script is executed -->
    </div>
  </div>
  
  <script>
    function copyCode() {
      const codeBlock = document.getElementById('embedCode');
      const range = document.createRange();
      range.selectNode(codeBlock);
      window.getSelection().removeAllRanges();
      window.getSelection().addRange(range);
      document.execCommand('copy');
      window.getSelection().removeAllRanges();
      
      alert('Code copied to clipboard!');
    }
  </script>
  
  <!-- Include the widget script for demonstration purposes -->
  <script>
  /**
   * Aro-Ha AI Assistant - Webflow Embed Code - Live example
   */
  (function() {
    // Configuration
    const config = {
      buttonSize: '60px',
      buttonPosition: { bottom: '20px', right: '20px' },
      chatWidth: '380px',
      chatHeight: '580px',
      chatPosition: { bottom: '20px', right: '20px' },
      backgroundColor: '#767657',
      baseUrl: window.location.origin // Use the current URL for the demo
    };
    
    // Initialize when DOM is fully loaded
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', init);
    } else {
      init();
    }
    
    function injectStyles() {
      const styleEl = document.createElement('style');
      styleEl.innerHTML = `
        .aro-ha-button-container {
          position: fixed;
          z-index: 999998;
          width: calc(${config.buttonSize} + 8px);
          height: calc(${config.buttonSize} + 8px);
          bottom: ${config.buttonPosition.bottom};
          right: ${config.buttonPosition.right};
          cursor: pointer;
          pointer-events: auto;
          transition: all 0.3s ease;
          background: transparent;
          padding: 4px;
        }
        
        .aro-ha-chat-container {
          position: fixed;
          z-index: 999997;
          bottom: ${config.chatPosition.bottom};
          right: ${config.chatPosition.right};
          width: ${config.chatWidth};
          height: ${config.chatHeight};
          overflow: hidden;
          transition: all 0.3s ease;
          opacity: 0;
          transform: translateY(20px);
          pointer-events: none;
          box-shadow: 0 5px 40px rgba(0, 0, 0, 0.16);
          border-radius: 12px;
        }
        
        .aro-ha-chat-container.active {
          opacity: 1;
          transform: translateY(0);
          pointer-events: auto;
        }
        
        .aro-ha-button-container.hidden {
          opacity: 0;
          transform: scale(0.8);
          pointer-events: none;
        }
        
        @media (max-width: 768px) {
          .aro-ha-chat-container.active {
            width: 100vw !important;
            height: 100vh !important;
            bottom: 0 !important;
            right: 0 !important;
            border-radius: 0 !important;
          }
        }
      `;
      document.head.appendChild(styleEl);
    }
    
    function createChatButton() {
      const buttonContainer = document.createElement('div');
      buttonContainer.className = 'aro-ha-button-container';
      
      const buttonIframe = document.createElement('iframe');
      buttonIframe.style.width = '100%';
      buttonIframe.style.height = '100%';
      buttonIframe.style.border = 'none';
      buttonIframe.style.borderRadius = '50%';
      buttonIframe.style.overflow = 'hidden';
      buttonIframe.style.background = 'transparent';
      buttonIframe.src = `${config.baseUrl}/widget-button`;
      buttonIframe.title = 'Aro Ha Chat Button';
      buttonIframe.scrolling = 'no';
      buttonIframe.allow = 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope';
      
      buttonContainer.appendChild(buttonIframe);
      document.body.appendChild(buttonContainer);
      
      return buttonContainer;
    }
    
    function createChatContainer() {
      const chatContainer = document.createElement('div');
      chatContainer.className = 'aro-ha-chat-container';
      
      document.body.appendChild(chatContainer);
      return chatContainer;
    }
    
    function init() {
      injectStyles();
      
      const buttonContainer = createChatButton();
      const chatContainer = createChatContainer();
      
      setupEventListeners(buttonContainer, chatContainer);
    }
    
    function setupEventListeners(buttonContainer, chatContainer) {
      // Listen for messages from the button or chat iframe
      window.addEventListener('message', (event) => {
        handleIframeMessages(event, buttonContainer, chatContainer);
      });
      
      // Set up click handler for the button
      buttonContainer.addEventListener('click', () => {
        openWidget(buttonContainer, chatContainer);
      });
    }
    
    function handleIframeMessages(event, buttonContainer, chatContainer) {
      // Handle messages from either iframe
      if (event.data) {
        if (event.data.type === 'widget-close') {
          closeWidget(buttonContainer, chatContainer);
        }
        // Handle button clicks from the button iframe
        else if (event.data.type === 'button-click') {
          openWidget(buttonContainer, chatContainer);
        }
      }
    }
    
    function toggleWidget(buttonContainer, chatContainer) {
      if (chatContainer.classList.contains('active')) {
        closeWidget(buttonContainer, chatContainer);
      } else {
        openWidget(buttonContainer, chatContainer);
      }
    }
    
    function openWidget(buttonContainer, chatContainer) {
      // Hide the button
      buttonContainer.classList.add('hidden');
      
      // If the chat iframe hasn't been created yet, create it
      if (!chatContainer.querySelector('iframe')) {
        const chatIframe = document.createElement('iframe');
        chatIframe.style.width = '100%';
        chatIframe.style.height = '100%';
        chatIframe.style.border = 'none';
        chatIframe.src = `${config.baseUrl}/widget-full`;
        chatIframe.title = 'Aro Ha Chat';
        chatIframe.allow = 'microphone';
        chatContainer.appendChild(chatIframe);
      }
      
      // Show the chat
      chatContainer.classList.add('active');
    }
    
    function closeWidget(buttonContainer, chatContainer) {
      // Hide the chat
      chatContainer.classList.remove('active');
      
      // Show the button
      buttonContainer.classList.remove('hidden');
    }
  })();
  </script>
</body>
</html>